import{s as oe,e as p,b as d,o as w,h as m,f as r,i as q,m as C,d as N,p as R,n as $,l as ce,t as ue,q as pe,r as i,v as V,w as F,x as de,y as fe}from"../chunks/scheduler.OWaxIzIJ.js";import{S as he,i as _e,a as ee,f as me,t as te,g as be,b as ge,c as ve,d as xe,m as ye,e as Ce}from"../chunks/index.3LzlWLC8.js";import{g as Re}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.aOM-mGY2.js";import{I as Ee}from"../chunks/InputChip.XgYt53mT.js";import{g as Te}from"../chunks/entry.1-0VwD_A.js";const ke=async({params:o})=>{const e=await Se(o.recipe_id);return e?{recipe:{rid:e.rid,title:e.title,ingredients:e.ingredients,instructions:e.instructions}}:{recipe:null}};async function Se(o){try{return await(await fetch(`http://localhost:8080/api/recipes/${o}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json()}catch(e){console.log("===== ERROR LOADING RECIPE ====="),console.log(e)}}const Be=Object.freeze(Object.defineProperty({__proto__:null,load:ke},Symbol.toStringTag,{value:"Module"}));function we(o){let e,t="Recipe not found...",c,a,u="Return Home";return{c(){e=p("h1"),e.textContent=t,c=C(),a=p("a"),a.textContent=u,this.h()},l(n){e=d(n,"H1",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-qw1cku"&&(e.textContent=t),c=R(n),a=d(n,"A",{class:!0,href:!0,"data-svelte-h":!0}),N(a)!=="svelte-13mb37v"&&(a.textContent=u),this.h()},h(){r(e,"class","text-5xl py-5"),r(a,"class","anchor"),r(a,"href","/recipes")},m(n,s){q(n,e,s),q(n,c,s),q(n,a,s)},p:$,i:$,o:$,d(n){n&&(m(e),m(c),m(a))}}}function Ae(o){let e,t,c="Update Recipe",a,u,n,s,l,f,A="Title",L,_,U,v,I,E="Ingredients",j,T,J,X,k,P,ne="Instructions",K,g,Q,O,S,re="Reset Recipe",W,y,Y,D,B,Z,se;function ie(h){o[8](h)}let le={name:"chips",id:"ingredient-list",placeholder:"Enter ingredient one at a time..."};return o[2]!==void 0&&(le.value=o[2]),T=new Ee({props:le}),ce.push(()=>ge(T,"value",ie)),{c(){e=p("div"),t=p("h1"),t.textContent=c,a=C(),u=p("hr"),n=C(),s=p("form"),l=p("label"),f=p("span"),f.textContent=A,L=C(),_=p("input"),U=C(),v=p("label"),I=p("span"),I.textContent=E,j=C(),ve(T.$$.fragment),X=C(),k=p("label"),P=p("span"),P.textContent=ne,K=C(),g=p("textarea"),Q=C(),O=p("section"),S=p("button"),S.textContent=re,W=C(),y=p("button"),Y=ue("Update Recipe"),this.h()},l(h){e=d(h,"DIV",{class:!0});var b=w(e);t=d(b,"H1",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-ia3zp8"&&(t.textContent=c),a=R(b),u=d(b,"HR",{class:!0}),n=R(b),s=d(b,"FORM",{method:!0});var x=w(s);l=d(x,"LABEL",{class:!0,for:!0});var H=w(l);f=d(H,"SPAN",{"data-svelte-h":!0}),N(f)!=="svelte-7ccxmo"&&(f.textContent=A),L=R(H),_=d(H,"INPUT",{class:!0,id:!0,type:!0,placeholder:!0,name:!0}),H.forEach(m),U=R(x),v=d(x,"LABEL",{class:!0,for:!0});var z=w(v);I=d(z,"SPAN",{"data-svelte-h":!0}),N(I)!=="svelte-qy8ztm"&&(I.textContent=E),j=R(z),xe(T.$$.fragment,z),z.forEach(m),X=R(x),k=d(x,"LABEL",{class:!0,for:!0});var G=w(k);P=d(G,"SPAN",{"data-svelte-h":!0}),N(P)!=="svelte-l62uan"&&(P.textContent=ne),K=R(G),g=d(G,"TEXTAREA",{class:!0,id:!0,name:!0,rows:!0,placeholder:!0}),w(g).forEach(m),G.forEach(m),Q=R(x),O=d(x,"SECTION",{class:!0});var M=w(O);S=d(M,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),N(S)!=="svelte-hgq1d7"&&(S.textContent=re),W=R(M),y=d(M,"BUTTON",{type:!0,class:!0});var ae=w(y);Y=pe(ae,"Update Recipe"),ae.forEach(m),M.forEach(m),x.forEach(m),b.forEach(m),this.h()},h(){r(t,"class","text-xl"),r(u,"class","!border-t-4"),r(_,"class","input rounded-lg"),r(_,"id","recipe-title"),r(_,"type","text"),r(_,"placeholder","Recipe Title..."),r(_,"name","title"),r(l,"class","label mb-3"),r(l,"for","recipe-title"),r(v,"class","label mb-3"),r(v,"for","ingredient-list"),r(g,"class","textarea rounded-lg"),r(g,"id","instructions"),r(g,"name","instructions"),r(g,"rows","4"),r(g,"placeholder","Step-by-Step Recipe instructions..."),r(k,"class","label mb-3"),r(k,"for","instructions"),r(S,"type","button"),r(S,"class","btn variant-filled hover:bg-error-500 hover:text-white"),y.disabled=D=!o[4],r(y,"type","button"),r(y,"class","btn variant-filled hover:bg-primary-500 hover:text-white"),r(O,"class","flex justify-around"),r(s,"method","POST"),r(e,"class","flex flex-col gap-4 bg-surface-700 p-5 rounded-lg")},m(h,b){q(h,e,b),i(e,t),i(e,a),i(e,u),i(e,n),i(e,s),i(s,l),i(l,f),i(l,L),i(l,_),V(_,o[1]),i(s,U),i(s,v),i(v,I),i(v,j),ye(T,v,null),i(s,X),i(s,k),i(k,P),i(k,K),i(k,g),V(g,o[3]),i(s,Q),i(s,O),i(O,S),i(O,W),i(O,y),i(y,Y),B=!0,Z||(se=[F(_,"input",o[7]),F(g,"input",o[9]),F(S,"click",o[6]),F(y,"click",o[5])],Z=!0)},p(h,b){b&2&&_.value!==h[1]&&V(_,h[1]);const x={};!J&&b&4&&(J=!0,x.value=h[2],de(()=>J=!1)),T.$set(x),b&8&&V(g,h[3]),(!B||b&16&&D!==(D=!h[4]))&&(y.disabled=D)},i(h){B||(te(T.$$.fragment,h),B=!0)},o(h){ee(T.$$.fragment,h),B=!1},d(h){h&&m(e),Ce(T),Z=!1,fe(se)}}}function Ie(o){let e,t,c,a;const u=[Ae,we],n=[];function s(l,f){return l[0].recipe?0:1}return t=s(o),c=n[t]=u[t](o),{c(){e=p("div"),c.c(),this.h()},l(l){e=d(l,"DIV",{class:!0});var f=w(e);c.l(f),f.forEach(m),this.h()},h(){r(e,"class","container mx-auto flex flex-col flex-grow min-h-80 border-2 bg-surface-700 rounded-xl p-4")},m(l,f){q(l,e,f),n[t].m(e,null),a=!0},p(l,[f]){let A=t;t=s(l),t===A?n[t].p(l,f):(be(),ee(n[A],1,1,()=>{n[A]=null}),me(),c=n[t],c?c.p(l,f):(c=n[t]=u[t](l),c.c()),te(c,1),c.m(e,null))},i(l){a||(te(c),a=!0)},o(l){ee(c),a=!1},d(l){l&&m(e),n[t].d()}}}function Oe(o,e,t){let c,{data:a}=e,u,n,s,l;a.recipe&&(u=a.recipe.title,n=a.recipe.ingredients,s=a.recipe.instructions,l=a.recipe.rid);const f=Re(),A={message:"Recipe added successfully!",background:"variant-filled-success"};async function L(){const E={title:u,instructions:s,ingredients:n,time_modified:new Date};try{await fetch(`http://localhost:8080/api/update/${l}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)})}catch(j){console.error("Error:",j)}t(1,u=""),t(2,n=[]),t(3,s=""),f.trigger(A),Te("/recipes")}function _(){t(1,u=""),t(2,n=[]),t(3,s="")}function U(){u=this.value,t(1,u)}function v(E){n=E,t(2,n)}function I(){s=this.value,t(3,s)}return o.$$set=E=>{"data"in E&&t(0,a=E.data)},o.$$.update=()=>{o.$$.dirty&14&&t(4,c=!!(u&&n.length>0&&s))},[a,u,n,s,c,L,_,U,v,I]}class qe extends he{constructor(e){super(),_e(this,e,Oe,Ie,oe,{data:0})}}export{qe as component,Be as universal};
