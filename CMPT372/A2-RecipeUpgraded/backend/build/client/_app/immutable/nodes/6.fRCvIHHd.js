import{s as ae,e as h,b as d,o as b,h as r,f as _,i as m,n as K,m as g,d as $,p as S,t as D,q as H,r as f,J as q}from"../chunks/scheduler.OWaxIzIJ.js";import{e as ee,u as ne,d as ie}from"../chunks/each.smOdYV4G.js";import{S as re,i as ce}from"../chunks/index.3LzlWLC8.js";import{f as te}from"../chunks/dateFormatter.JrucCzqQ.js";const oe=async({params:o})=>{const e=await fe(o.recipe_id);return e?{recipe:{title:e.title,ingredients:e.ingredients,instructions:e.instructions,time_modified:e.time_modified}}:{recipe:null}};async function fe(o){try{return await(await fetch(`http://localhost:8080/api/recipes/${o}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json()}catch(e){console.log("===== ERROR LOADING RECIPE ====="),console.log(e)}}const be=Object.freeze(Object.defineProperty({__proto__:null,load:oe},Symbol.toStringTag,{value:"Module"}));function le(o,e,s){const a=o.slice();return a[1]=e[s],a[3]=s,a}function ue(o){let e,s="Recipe not found...",a,l,c="Return Home";return{c(){e=h("h1"),e.textContent=s,a=g(),l=h("a"),l.textContent=c,this.h()},l(n){e=d(n,"H1",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-qw1cku"&&(e.textContent=s),a=S(n),l=d(n,"A",{class:!0,href:!0,"data-svelte-h":!0}),$(l)!=="svelte-13mb37v"&&(l.textContent=c),this.h()},h(){_(e,"class","text-5xl py-5"),_(l,"class","anchor"),_(l,"href","/recipes")},m(n,v){m(n,e,v),m(n,a,v),m(n,l,v)},p:K,d(n){n&&(r(e),r(a),r(l))}}}function pe(o){let e,s,a=o[0].recipe.title+"",l,c,n,v=te(new Date(o[0].recipe.time_modified))+"",y,E,C,w,p,u,N="Ingredients",P,I,x=[],Q=new Map,L,j,G,R,A,U="Instructions",B,O,T=o[0].recipe.instructions+"",M,z=ee(o[0].recipe.ingredients);const W=t=>t[1];for(let t=0;t<z.length;t+=1){let i=le(o,z,t),k=W(i);Q.set(k,x[t]=se(k,i))}return{c(){e=h("header"),s=h("h1"),l=D(a),c=g(),n=h("span"),y=D(v),E=g(),C=h("hr"),w=g(),p=h("section"),u=h("span"),u.textContent=N,P=g(),I=h("ol");for(let t=0;t<x.length;t+=1)x[t].c();L=g(),j=h("hr"),G=g(),R=h("section"),A=h("span"),A.textContent=U,B=g(),O=h("span"),M=D(T),this.h()},l(t){e=d(t,"HEADER",{class:!0});var i=b(e);s=d(i,"H1",{class:!0});var k=b(s);l=H(k,a),k.forEach(r),c=S(i),n=d(i,"SPAN",{class:!0});var X=b(n);y=H(X,v),X.forEach(r),i.forEach(r),E=S(t),C=d(t,"HR",{class:!0}),w=S(t),p=d(t,"SECTION",{class:!0});var J=b(p);u=d(J,"SPAN",{class:!0,"data-svelte-h":!0}),$(u)!=="svelte-1dlhxw7"&&(u.textContent=N),P=S(J),I=d(J,"OL",{});var Y=b(I);for(let F=0;F<x.length;F+=1)x[F].l(Y);Y.forEach(r),J.forEach(r),L=S(t),j=d(t,"HR",{class:!0}),G=S(t),R=d(t,"SECTION",{class:!0});var V=b(R);A=d(V,"SPAN",{class:!0,"data-svelte-h":!0}),$(A)!=="svelte-fjb4ia"&&(A.textContent=U),B=S(V),O=d(V,"SPAN",{class:!0});var Z=b(O);M=H(Z,T),Z.forEach(r),V.forEach(r),this.h()},h(){_(s,"class","text-4xl mb-3"),_(n,"class","opacity-50"),_(e,"class","header"),_(C,"class","!border-t-4 !border-primary-500 opacity-70"),_(u,"class","text-xl underline"),_(p,"class","flex flex-col my-3"),_(j,"class","!border-t-2 !border-primary-500 opacity-50"),_(A,"class","text-xl underline"),_(O,"class","first-letter:uppercase"),_(R,"class","flex flex-col my-2")},m(t,i){m(t,e,i),f(e,s),f(s,l),f(e,c),f(e,n),f(n,y),m(t,E,i),m(t,C,i),m(t,w,i),m(t,p,i),f(p,u),f(p,P),f(p,I);for(let k=0;k<x.length;k+=1)x[k]&&x[k].m(I,null);m(t,L,i),m(t,j,i),m(t,G,i),m(t,R,i),f(R,A),f(R,B),f(R,O),f(O,M)},p(t,i){i&1&&a!==(a=t[0].recipe.title+"")&&q(l,a),i&1&&v!==(v=te(new Date(t[0].recipe.time_modified))+"")&&q(y,v),i&1&&(z=ee(t[0].recipe.ingredients),x=ne(x,i,W,1,t,z,Q,I,ie,se,null,le)),i&1&&T!==(T=t[0].recipe.instructions+"")&&q(M,T)},d(t){t&&(r(e),r(E),r(C),r(w),r(p),r(L),r(j),r(G),r(R));for(let i=0;i<x.length;i+=1)x[i].d()}}}function se(o,e){let s,a,l=e[3]+1+"",c,n,v,y,E=e[1]+"",C,w;return{key:o,first:null,c(){s=h("li"),a=h("span"),c=D(l),n=D("."),v=g(),y=h("span"),C=D(E),w=g(),this.h()},l(p){s=d(p,"LI",{class:!0});var u=b(s);a=d(u,"SPAN",{});var N=b(a);c=H(N,l),n=H(N,"."),N.forEach(r),v=S(u),y=d(u,"SPAN",{});var P=b(y);C=H(P,E),P.forEach(r),w=S(u),u.forEach(r),this.h()},h(){_(s,"class","opacity-80"),this.first=s},m(p,u){m(p,s,u),f(s,a),f(a,c),f(a,n),f(s,v),f(s,y),f(y,C),f(s,w)},p(p,u){e=p,u&1&&l!==(l=e[3]+1+"")&&q(c,l),u&1&&E!==(E=e[1]+"")&&q(C,E)},d(p){p&&r(s)}}}function he(o){let e;function s(c,n){return c[0].recipe?pe:ue}let a=s(o),l=a(o);return{c(){e=h("div"),l.c(),this.h()},l(c){e=d(c,"DIV",{class:!0});var n=b(e);l.l(n),n.forEach(r),this.h()},h(){_(e,"class","container mx-auto flex flex-col flex-grow min-h-80 border-2 bg-surface-700 rounded-xl p-4")},m(c,n){m(c,e,n),l.m(e,null)},p(c,[n]){a===(a=s(c))&&l?l.p(c,n):(l.d(1),l=a(c),l&&(l.c(),l.m(e,null)))},i:K,o:K,d(c){c&&r(e),l.d()}}}function de(o,e,s){let{data:a}=e;return o.$$set=l=>{"data"in l&&s(0,a=l.data)},[a]}class ye extends re{constructor(e){super(),ce(this,e,de,he,ae,{data:0})}}export{ye as component,be as universal};
